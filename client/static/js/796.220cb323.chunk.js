"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[796],{9796:(e,t,i)=>{i.r(t),i.d(t,{default:()=>z});var n=i(9060),s=i(8960),r=i(9e3),a=i(6880),o=i(1712),c=i(3692),l=i(7256),d=i(3856),u=i(9504),h=i(700),x=i(7454),m=i(9904),p=i(9592),f=i(8612),v=i(3248),g=i(2496);function j(e){let{order:t,orderBy:i,headLabel:n,onRequestSort:s}=e;return(0,g.jsx)(f.c,{children:(0,g.jsx)(x.c,{children:n.map((e=>{return(0,g.jsx)(h.c,{align:e.align||"left",sortDirection:i===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:(0,g.jsxs)(v.c,{hideSortIcon:!0,active:i===e.id,direction:i===e.id?t:"asc",onClick:(n=e.id,e=>{s(e,n)}),children:[e.label,i===e.id?(0,g.jsx)(l.c,{sx:{border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))})})}var b=i(3358),w=i(6768),S=i(5548),k=i(5594),C=i(9572),W=i(2044);function y(e){let{filterName:t,onRefresh:i,onFilterName:n}=e;return(0,g.jsxs)(w.c,{sx:{height:96,display:"flex",justifyContent:"space-between",p:e=>e.spacing(0,1,0,3)},children:[(0,g.jsx)(k.c,{value:t,onChange:n,placeholder:"Search...",startAdornment:(0,g.jsx)(C.c,{position:"start",children:(0,g.jsx)(W.ov,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}),(0,g.jsx)(b.c,{title:"Refresh",children:(0,g.jsx)(S.c,{onClick:i,children:(0,g.jsx)(W.ov,{icon:"mdi:refresh"})})})]})}var R=i(7960),N=i(6931),P=i(9344),G=i(2560);function E(e){let{officer:t,onEdit:i,onDelete:r,onActivate:o}=e;const[c,l]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(x.c,{hover:!0,tabIndex:-1,role:"checkbox",children:[(0,g.jsx)(h.c,{component:"th",scope:"row",children:(0,g.jsxs)(s.c,{direction:"row",alignItems:"center",spacing:2,children:[(0,g.jsx)(R.c,{alt:t.name,src:t.avatar}),(0,g.jsx)(a.c,{variant:"subtitle2",noWrap:!0,children:t.name})]})}),(0,g.jsx)(h.c,{children:t.office}),(0,g.jsx)(h.c,{children:t.position}),(0,g.jsx)(h.c,{children:(0,G.SI)(t.role)}),(0,g.jsx)(h.c,{align:"right",sx:{width:50},children:(0,g.jsx)(W.iM,{color:"active"===t.status?"success":"error",children:(0,G.SI)(t.status)})}),(0,g.jsx)(h.c,{align:"right",sx:{width:30},children:(0,g.jsx)(S.c,{onClick:e=>{l(e.currentTarget)},children:(0,g.jsx)(W.ov,{icon:"eva:more-vertical-fill"})})})]}),(0,g.jsxs)(N.cp,{open:!!c,anchorEl:c,onClose:()=>{l(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:200}},children:[(0,g.jsxs)(P.c,{onClick:e=>{o(e,t.uuid,"active"!==t.status),l(null)},children:[(0,g.jsx)(W.ov,{icon:"active"===t.status?"material-symbols:lock":"material-symbols:lock-open",sx:{mr:2}}),"active"===t.status?"Deactivate":"Activate"]}),(0,g.jsxs)(P.c,{onClick:e=>{i(e,t.uuid),l(null)},children:[(0,g.jsx)(W.ov,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),(0,g.jsxs)(P.c,{onClick:()=>u(!0),sx:{color:"error.main"},children:[(0,g.jsx)(W.ov,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})]}),(0,g.jsx)(W._6,{open:d,onClose:()=>u(!1),onDelete:e=>{r(e,t.uuid),l(null),u(!1)}})]})}var I=i(4480),M=i(3540),O=i(8964);function D(e,t,i){return t[i]<e[i]?-1:t[i]>e[i]?1:0}function A(e){let{refresh:t,onEdit:i}=e;const{data:s,error:r,refetch:a}=(0,I.U)(O.Ej),[o,f]=(0,n.useState)(0),[v,b]=(0,n.useState)("asc"),[w,S]=(0,n.useState)("name"),[k,C]=(0,n.useState)(""),[R,N]=(0,n.useState)(10),[P,G]=(0,n.useState)([]),[A,{error:L}]=(0,M.c)(O.qW),[z,{error:F}]=(0,M.c)(O.GO);(0,n.useEffect)((()=>{s&&G(s.getOfficers.map((e=>{var t,i,n;return{uuid:e.uuid,name:e.firstName+" "+e.lastName,position:(null===(t=e.position)||void 0===t?void 0:t.label)||"",role:(null===(i=e.position)||void 0===i?void 0:i.role)||"",office:(null===(n=e.office)||void 0===n?void 0:n.name)||"",status:e.active?"active":"inactive",avatar:e.avatar}})))}),[s]),(0,n.useEffect)((()=>{a()}),[t,a]);const T=(0,n.useMemo)((()=>function(e,t){const i=e.map(((e,t)=>[e,t]));return i.sort(((e,i)=>{const n=t(e[0],i[0]);return 0!==n?n:e[1]-i[1]})),i.map((e=>e[0]))}(P.filter((e=>e.name.includes(k)||e.office.includes(k)||e.position.includes(k)||0===k.length)),function(e,t){return"desc"===e?(e,i)=>D(e,i,t):(e,i)=>-D(e,i,t)}(v,w)).slice(o*R,o*R+R)),[P,k,v,w,o,R]),q=(e,t)=>i(t),B=async(e,t,i)=>{await z({variables:{uuid:t,active:i}}),await a()},U=async(e,t)=>{await A({variables:{uuid:t}}),await a()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(c.c,{children:[(0,g.jsx)(y,{filterName:k,onRefresh:async()=>{await a()},onFilterName:e=>{f(0),C(e.target.value)}}),(0,g.jsx)(l.c,{sx:{maxWidth:1200,overflow:"auto"},children:(0,g.jsx)(m.c,{sx:{overflow:"unset"},children:(0,g.jsxs)(d.c,{sx:{minWidth:800},children:[(0,g.jsx)(j,{order:v,orderBy:w,onRequestSort:(e,t)=>{b(w===t&&"asc"===v?"desc":"asc"),S(t)},headLabel:[{id:"name",label:"Name",width:250},{id:"office",label:"Office"},{id:"position",label:"Position"},{id:"role",label:"Role"},{id:"status",label:"Status",align:"right"},{id:"uuid",align:"right",width:20}]}),(0,g.jsxs)(u.c,{children:[T.map((e=>(0,g.jsx)(E,{officer:e,onEdit:q,onDelete:U,onActivate:B},e.uuid))),0===T.length&&(0,g.jsx)(x.c,{sx:{height:80},children:(0,g.jsx)(h.c,{align:"center",colSpan:6,children:"No results found."})})]})]})})}),(0,g.jsx)(p.c,{page:o,component:"div",count:P.length,rowsPerPage:R,onPageChange:(e,t)=>{f(t)},rowsPerPageOptions:[10,25,50],onRowsPerPageChange:e=>{f(0),N(parseInt(e.target.value,10))}})]}),(0,g.jsx)(W.wR,{severity:"error",message:(null===r||void 0===r?void 0:r.message)||(null===L||void 0===L?void 0:L.message)||(null===F||void 0===F?void 0:F.message)})]})}const L=(0,n.lazy)((()=>i.e(460).then(i.bind(i,5460))));function z(){const[e,t]=n.useState(!1),[i,c]=n.useState(null),l=()=>{t(!e),c(null)};return(0,g.jsxs)(o.c,{children:[(0,g.jsxs)(s.c,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[(0,g.jsx)(a.c,{variant:"h4",children:"Accounts"}),(0,g.jsx)(r.c,{onClick:l,variant:"contained",color:"inherit",startIcon:(0,g.jsx)(W.ov,{icon:"eva:plus-fill"}),children:"Create"})]}),(0,g.jsx)(A,{refresh:e,onEdit:i=>{c(i),t(!e)}}),(0,g.jsx)(n.Suspense,{children:(0,g.jsx)(L,{open:e,variant:i?"update":"create",officerId:i,onClose:l})})]})}},1712:(e,t,i)=>{i.d(t,{c:()=>S});var n=i(5656),s=i(5072),r=i(9060),a=i(9736),o=i(5336),c=i(3448),l=i(1412),d=i(3596),u=i(7736),h=i(4276),x=i(2496);const m=["className","component","disableGutters","fixed","maxWidth","classes"],p=(0,h.c)(),f=(0,u.c)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t["maxWidth".concat((0,o.c)(String(i.maxWidth)))],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),v=e=>(0,d.c)({props:e,name:"MuiContainer",defaultTheme:p});var g=i(5832),j=i(2556),b=i(3456);const w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=f,useThemeProps:i=v,componentName:d="MuiContainer"}=e,u=t((e=>{let{theme:t,ownerState:i}=e;return(0,s.c)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!i.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:i}=e;return i.fixed&&Object.keys(t.breakpoints.values).reduce(((e,i)=>{const n=i,s=t.breakpoints.values[n];return 0!==s&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(s).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:i}=e;return(0,s.c)({},"xs"===i.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},i.maxWidth&&"xs"!==i.maxWidth&&{[t.breakpoints.up(i.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[i.maxWidth]).concat(t.breakpoints.unit)}})})),h=r.forwardRef((function(e,t){const r=i(e),{className:h,component:p="div",disableGutters:f=!1,fixed:v=!1,maxWidth:g="lg"}=r,j=(0,n.c)(r,m),b=(0,s.c)({},r,{component:p,disableGutters:f,fixed:v,maxWidth:g}),w=((e,t)=>{const{classes:i,fixed:n,disableGutters:s,maxWidth:r}=e,a={root:["root",r&&"maxWidth".concat((0,o.c)(String(r))),n&&"fixed",s&&"disableGutters"]};return(0,l.c)(a,(e=>(0,c.cp)(t,e)),i)})(b,d);return(0,x.jsx)(u,(0,s.c)({as:p,ownerState:b,className:(0,a.c)(w.root,h),ref:t},j))}));return h}({createStyledComponent:(0,j.cp)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t["maxWidth".concat((0,g.c)(String(i.maxWidth)))],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,b.c)({props:e,name:"MuiContainer"})}),S=w}}]);
//# sourceMappingURL=796.220cb323.chunk.js.map