"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[160],{8160:(e,i,a)=>{a.r(i),a.d(i,{default:()=>O});var t=a(9060),r=a(7256),n=a(272),s=a(3692),l=a(8960),o=a(9e3),c=a(8320),d=a(6880),f=a(5548),u=a(3288),h=a(9872),m=a(9572),g=a(9704),v=a(4194),p=a(2148),x=a(4864),j=a(9732),b=a(8964),N=a(4296),y=a(2496);const w={firstName:"",lastName:"",password:""};function O(){const e=(0,u.c)(),i=(0,v.KX)(),a=(0,v.Ab)(),[O,C]=(0,t.useState)(),[S,k]=(0,t.useState)(!1),[W,I]=(0,t.useState)(w),{firstName:q,lastName:D,password:J}=W,[P,{error:Q}]=(0,j.U)(b.qy),A=e=>{I({...W,[e.target.name]:e.target.value})};return(0,y.jsxs)(r.c,{sx:{...(0,p.mo)({color:(0,h.W4)(e.palette.background.default,.5),imgUrl:"/assets/background/overlay_5.jpg"}),height:1},children:[(0,y.jsx)(x.Ml,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),(0,y.jsx)(l.c,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,y.jsxs)(s.c,{sx:{p:5,width:1,maxWidth:420},children:[(0,y.jsx)(d.c,{variant:"h4",children:"SIGN IN"}),(0,y.jsxs)(d.c,{variant:"body2",sx:{my:2},children:["Don't have an account?",(0,y.jsx)(n.c,{href:"/register",variant:"subtitle2",sx:{ml:.5,cursor:"pointer"},children:"Sign up"})]}),(0,y.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=await P({variables:{firstName:q.trim(),lastName:D.trim(),password:J}});if(t.data&&t.data.loginOfficer){var r,n,s,l;a((0,g.Mp)({uuid:t.data.loginOfficer.uuid,firstName:t.data.loginOfficer.firstName,lastName:t.data.loginOfficer.lastName,role:null===(r=t.data.loginOfficer.position)||void 0===r?void 0:r.role,office:null===(n=t.data.loginOfficer.office)||void 0===n?void 0:n.id,position:null===(s=t.data.loginOfficer.position)||void 0===s?void 0:s.label,avatar:t.data.loginOfficer.avatar}));const e=(null===(l=t.data.loginOfficer.position)||void 0===l?void 0:l.role)||N.QJ.Officer;t.data.loginOfficer.verified?[N.QJ.Superuser,N.QJ.Director].includes(e)?i.push("/dashboard"):i.push("/calendar"):i.push("/verify/".concat(t.data.loginOfficer.uuid))}else C("Wrong credentials or account is inactive.");I(w)},children:[(0,y.jsxs)(l.c,{spacing:2,sx:{mb:2},children:[(0,y.jsx)(c.c,{name:"firstName",label:"First Name",value:q,onChange:A,required:!0,fullWidth:!0}),(0,y.jsx)(c.c,{name:"lastName",label:"Last Name",value:D,onChange:A,required:!0,fullWidth:!0}),(0,y.jsx)(c.c,{name:"password",label:"Password",type:S?"text":"password",value:J,onChange:A,required:!0,fullWidth:!0,inputProps:{minLength:8},InputProps:{endAdornment:(0,y.jsx)(m.c,{position:"end",children:(0,y.jsx)(f.c,{onClick:()=>k(!S),edge:"end",children:(0,y.jsx)(x.ov,{icon:S?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),(0,y.jsx)(l.c,{direction:"row",alignItems:"center",justifyContent:"flex-end",children:(0,y.jsx)(n.c,{href:"/password",variant:"subtitle2",underline:"hover",children:"Forgot password?"})}),(0,y.jsx)(l.c,{direction:"row",alignItems:"center",justifyContent:"center",sx:{my:2},children:((null===Q||void 0===Q?void 0:Q.message)||O)&&(0,y.jsx)(d.c,{variant:"body2",align:"center",color:"error",children:(null===Q||void 0===Q?void 0:Q.message)||O})}),(0,y.jsx)(o.c,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:"Sign in"})]})]})})]})}}}]);
//# sourceMappingURL=160.2361ffec.chunk.js.map