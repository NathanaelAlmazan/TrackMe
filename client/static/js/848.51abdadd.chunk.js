"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[848],{3848:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var c=t(9060),i=t(2656),r=t(6773),s=t(4488),a=t(7667),l=t(9e3),o=t(5448),d=t(8960),u=t(8320),h=t(9344),v=t(7868),x=t.n(v),j=t(4924),p=t(7976),m=t(9732),f=t(3540),g=t(2496);const y={subject:"",description:"",frequency:"NONE"};function b(e){let{eventId:n,open:t,onClose:v}=e;const[b,{error:E}]=(0,m.U)(p.wP,{fetchPolicy:"no-cache"}),[w,C]=(0,c.useState)(y),[q,N]=(0,c.useState)(x()(new Date)),{subject:D,description:I,frequency:S}=w,[R,{error:W}]=(0,f.c)(p.Ki),[k,{error:Y}]=(0,f.c)(p.cn);(0,c.useEffect)((()=>{n?b({variables:{id:n}}).then((e=>{let{data:n}=e;n&&(C({subject:n.getEventById.subject,description:n.getEventById.description,frequency:n.getEventById.frequency}),N(x()(new Date(n.getEventById.date))))})):(C(y),N(x()(new Date)))}),[n,b]);const O=e=>{C({...w,[e.target.name]:e.target.value})};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.c,{open:t,onClose:v,maxWidth:"sm",fullWidth:!0,children:(0,g.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n?await k({variables:{id:n,subject:D,description:I,date:q.toISOString(),frequency:S}}):await R({variables:{subject:D,description:I,date:q.toISOString(),frequency:S}}),C(y),N(x()(new Date)),v()},children:[(0,g.jsx)(r.c,{children:n?"Edit Event":"Create Event"}),(0,g.jsx)(s.c,{children:(0,g.jsxs)(o.cp,{container:!0,spacing:3,sx:{pt:2},children:[(0,g.jsx)(o.cp,{item:!0,xs:12,children:(0,g.jsx)(u.c,{name:"subject",label:"Event Name",variant:"outlined",value:D,onChange:O,fullWidth:!0,required:!0})}),(0,g.jsx)(o.cp,{item:!0,xs:12,children:(0,g.jsx)(u.c,{name:"description",label:"Description",variant:"outlined",value:I,onChange:O,fullWidth:!0,required:!0})}),(0,g.jsx)(o.cp,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsx)(j.I4,{label:"Event Date",value:q,onChange:e=>{e&&N(e)}})}),(0,g.jsx)(o.cp,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsxs)(u.c,{name:"frequency",select:!0,label:"Frequency",variant:"outlined",value:S,onChange:O,required:!0,fullWidth:!0,children:[(0,g.jsx)(h.c,{value:"NONE",children:"None"}),(0,g.jsx)(h.c,{value:"WEEKLY",children:"Weekly"}),(0,g.jsx)(h.c,{value:"MONTHLY",children:"Monthly"}),(0,g.jsx)(h.c,{value:"QUARTERLY",children:"Quarterly"}),(0,g.jsx)(h.c,{value:"YEARLY",children:"Yearly"})]})})]})}),(0,g.jsx)(a.c,{children:(0,g.jsxs)(d.c,{direction:"row",spacing:2,children:[(0,g.jsx)(l.c,{onClick:v,color:"inherit",children:"Cancel"}),(0,g.jsx)(l.c,{variant:"contained",color:"inherit",type:"submit",children:"Save"})]})})]})}),(0,g.jsx)(j.wR,{severity:"error",message:(null===W||void 0===W?void 0:W.message)||(null===E||void 0===E?void 0:E.message)||(null===Y||void 0===Y?void 0:Y.message)})]})}},6773:(e,n,t)=>{t.d(n,{c:()=>p});var c=t(5072),i=t(5656),r=t(9060),s=t(9736),a=t(1412),l=t(6880),o=t(2556),d=t(3456),u=t(2172),h=t(6432),v=t(2496);const x=["className","id"],j=(0,o.cp)(l.c,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,n)=>n.root})({padding:"16px 24px",flex:"0 0 auto"}),p=r.forwardRef((function(e,n){const t=(0,d.c)({props:e,name:"MuiDialogTitle"}),{className:l,id:o}=t,p=(0,i.c)(t,x),m=t,f=(e=>{const{classes:n}=e;return(0,a.c)({root:["root"]},u.G,n)})(m),{titleId:g=o}=r.useContext(h.c);return(0,v.jsx)(j,(0,c.c)({component:"h2",className:(0,s.c)(f.root,l),ownerState:m,ref:n,variant:"h6",id:null!=o?o:g},p))}))}}]);
//# sourceMappingURL=848.51abdadd.chunk.js.map