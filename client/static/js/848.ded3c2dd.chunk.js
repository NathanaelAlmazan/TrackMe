"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[848],{3848:(e,n,t)=>{t.r(n),t.d(n,{default:()=>I});var i=t(9060),r=t(2656),s=t(6773),a=t(4488),c=t(7667),l=t(9e3),o=t(2112),d=t(5448),u=t(8960),h=t(8320),x=t(9344),v=t(7868),p=t.n(v),m=t(4924),j=t(7976),g=t(4480),f=t(9732),b=t(3540),y=t(2496);const D={reportId:"",subject:"",description:"",frequency:"NONE"};function I(e){let{eventId:n,selectedDate:t,open:v,onClose:I}=e;const{data:E,error:w}=(0,g.U)(j.ei),[S,{error:C}]=(0,f.U)(j.wP,{fetchPolicy:"no-cache"}),[q,N]=(0,i.useState)(D),[R,O]=(0,i.useState)(p()(t)),[W,k]=(0,i.useState)(p()(t)),[T,B]=(0,i.useState)(p()(t)),{subject:M,description:Y,frequency:A,reportId:F}=q,[P,{error:L}]=(0,b.c)(j.Ki),[U,{error:G}]=(0,b.c)(j.cn),[H,{error:K}]=(0,b.c)(j.cQ);(0,i.useEffect)((()=>{n?S({variables:{id:n}}).then((e=>{let{data:n}=e;n&&(N({subject:n.getEventById.subject,description:n.getEventById.description,frequency:n.getEventById.frequency,reportId:""}),O(p()(new Date(n.getEventById.date))))})):(N(D),O(p()(new Date)))}),[n,S]),(0,i.useEffect)((()=>{O(p()(t)),k(p()(t)),B(p()(t))}),[t]);const Q=e=>{N({...q,[e.target.name]:e.target.value})};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(r.c,{open:v,onClose:I,maxWidth:"sm",fullWidth:!0,children:(0,y.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),F?await H({variables:{reportId:parseInt(F),localDue:W.toISOString(),nationalDue:T.toISOString()}}):n?await U({variables:{id:n,subject:M,description:Y,date:R.toISOString(),frequency:A}}):await P({variables:{subject:M,description:Y,date:R.toISOString(),frequency:A}}),N(D),O(p()(new Date(t))),k(p()(new Date(t))),B(p()(new Date(t))),I()},children:[n?(0,y.jsx)(s.c,{children:"Edit Event"}):(0,y.jsx)(o.c,{sx:{pt:2},children:"ADD EVENT"}),(0,y.jsxs)(a.c,{children:[(0,y.jsxs)(d.cp,{container:!0,spacing:3,children:[(0,y.jsx)(d.cp,{item:!0,xs:12,children:(0,y.jsx)(h.c,{name:"subject",label:"Event Name",variant:"outlined",value:M,onChange:Q,fullWidth:!0,required:!F})}),(0,y.jsx)(d.cp,{item:!0,xs:12,children:(0,y.jsx)(h.c,{name:"description",label:"Description",variant:"outlined",value:Y,onChange:Q,fullWidth:!0,required:!F})}),(0,y.jsx)(d.cp,{item:!0,xs:12,sm:6,md:6,children:(0,y.jsx)(m.I4,{label:"Event Date",value:R,onChange:e=>{e&&O(e)}})}),(0,y.jsx)(d.cp,{item:!0,xs:12,sm:6,md:6,children:(0,y.jsxs)(h.c,{name:"frequency",select:!0,label:"Frequency",variant:"outlined",value:A,onChange:Q,required:!F,fullWidth:!0,children:[(0,y.jsx)(x.c,{value:"NONE",children:"None"}),(0,y.jsx)(x.c,{value:"MONTHLY",children:"Monthly"}),(0,y.jsx)(x.c,{value:"YEARLY",children:"Yearly"})]})})]}),!n&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.c,{sx:{py:2},children:"OR ADD REPORT"}),(0,y.jsxs)(d.cp,{container:!0,spacing:3,children:[(0,y.jsx)(d.cp,{item:!0,xs:12,children:(0,y.jsx)(h.c,{name:"reportId",select:!0,label:"Report",variant:"outlined",value:F,onChange:Q,required:!!F,fullWidth:!0,children:E&&E.getReports.map((e=>(0,y.jsx)(x.c,{value:e.id,children:e.name},e.id)))})}),(0,y.jsx)(d.cp,{item:!0,xs:12,sm:6,md:6,children:(0,y.jsx)(m.I4,{label:"Regional Deadline",value:W,onChange:e=>{e&&k(e)}})}),(0,y.jsx)(d.cp,{item:!0,xs:12,sm:6,md:6,children:(0,y.jsx)(m.I4,{label:"National Deadline",value:T,onChange:e=>{e&&B(e)}})})]})]})]}),(0,y.jsx)(c.c,{children:(0,y.jsxs)(u.c,{direction:"row",spacing:2,children:[(0,y.jsx)(l.c,{onClick:I,color:"inherit",children:"Cancel"}),(0,y.jsx)(l.c,{variant:"contained",color:"inherit",type:"submit",children:"Save"})]})})]})}),(0,y.jsx)(m.wR,{severity:"error",message:(null===L||void 0===L?void 0:L.message)||(null===C||void 0===C?void 0:C.message)||(null===G||void 0===G?void 0:G.message)||(null===w||void 0===w?void 0:w.message)||(null===K||void 0===K?void 0:K.message)})]})}},6773:(e,n,t)=>{t.d(n,{c:()=>m});var i=t(5072),r=t(5656),s=t(9060),a=t(9736),c=t(1412),l=t(6880),o=t(2556),d=t(3456),u=t(2172),h=t(6432),x=t(2496);const v=["className","id"],p=(0,o.cp)(l.c,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,n)=>n.root})({padding:"16px 24px",flex:"0 0 auto"}),m=s.forwardRef((function(e,n){const t=(0,d.c)({props:e,name:"MuiDialogTitle"}),{className:l,id:o}=t,m=(0,r.c)(t,v),j=t,g=(e=>{const{classes:n}=e;return(0,c.c)({root:["root"]},u.G,n)})(j),{titleId:f=o}=s.useContext(h.c);return(0,x.jsx)(p,(0,i.c)({component:"h2",className:(0,a.c)(g.root,l),ownerState:j,ref:n,variant:"h6",id:null!=o?o:f},m))}))}}]);
//# sourceMappingURL=848.ded3c2dd.chunk.js.map