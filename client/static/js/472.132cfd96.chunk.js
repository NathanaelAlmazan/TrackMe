"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[472],{8472:(e,n,r)=>{r.r(n),r.d(n,{default:()=>y});var t=r(9060),i=r(1560),s=r(9448),a=r(3692),c=r(9072),l=r(7348),o=r(4380),d=r(6880),u=r(3288),h=r(4100),m=r(4194),x=r(2148),g=r(1424),v=r(9732),f=r(8964),j=r(4296),p=r(2496);const b={username:"",code:""};function y(){const e=(0,u.c)(),{uuid:n,role:r}=(0,m.Cq)((e=>e.auth)),{uuid:y}=(0,i.W4)(),C=(0,m.KX)(),[I,S]=(0,t.useState)(),[W,k]=(0,t.useState)(!1),[w,A]=(0,t.useState)(b),{username:U,code:q}=w,[V,{error:z}]=(0,v.U)(f.GM),[D,{error:M}]=(0,v.U)(f.Mz),N=e=>{A({...w,[e.target.name]:e.target.value})};return(0,p.jsxs)(s.c,{sx:{...(0,x.mo)({color:(0,h.W4)(e.palette.background.default,.5),imgUrl:"/assets/background/overlay_5.jpg"}),height:1},children:[(0,p.jsx)(g.Ml,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),(0,p.jsx)(c.c,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,p.jsxs)(a.c,{sx:{p:5,width:1,maxWidth:420},children:[(0,p.jsx)(d.c,{variant:"h4",children:"ACCOUNT VERIFICATION"}),W?(0,p.jsxs)("form",{onSubmit:e=>{e.preventDefault(),D({variables:{code:q,contact:U}}).then((e=>{let{data:t}=e;t&&t.confirmAccountVerify&&(n&&r?[j.QJ.Superuser,j.QJ.Director].includes(r)?C.push("/dashboard"):C.push("/calendar"):C.push("/login"))})).catch((e=>{S(e.message)}))},children:[(0,p.jsx)(c.c,{spacing:2,sx:{my:3},children:(0,p.jsx)(o.c,{name:"code",label:"Code",value:q,onChange:N,required:!0,fullWidth:!0})}),(0,p.jsx)(c.c,{direction:"row",alignItems:"center",justifyContent:"center",sx:{my:2},children:((null===M||void 0===M?void 0:M.message)||I)&&(0,p.jsx)(d.c,{variant:"body2",align:"center",color:"error",children:(null===M||void 0===M?void 0:M.message)||I})}),(0,p.jsx)(l.c,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:"Verify Account"})]}):(0,p.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y?U?V({variables:{uuid:y,contact:U}}).then((e=>{let{data:n}=e;n&&n.requestAccountVerify&&(k(!0),S(void 0))})).catch((e=>{S(e.message)})):S("Please type your email or phone number."):S("Invalid URL. Please relaod.")},children:[(0,p.jsx)(c.c,{spacing:2,sx:{my:3},children:(0,p.jsx)(o.c,{name:"username",label:"Email or Phone Number (+63)",value:U,onChange:N,fullWidth:!0,required:!0})}),(0,p.jsx)(c.c,{direction:"row",alignItems:"center",justifyContent:"center",sx:{my:2},children:((null===z||void 0===z?void 0:z.message)||I)&&(0,p.jsx)(d.c,{variant:"body2",align:"center",color:"error",children:(null===z||void 0===z?void 0:z.message)||I})}),(0,p.jsx)(l.c,{fullWidth:!0,endIcon:(0,p.jsx)(g.ov,{icon:"mdi:arrow-right"}),size:"large",type:"submit",variant:"contained",color:"inherit",children:"Send Code"})]})]})})]})}}}]);
//# sourceMappingURL=472.132cfd96.chunk.js.map