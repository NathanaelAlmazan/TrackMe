"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[816],{4816:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var o=n(9060),i=n(8960),a=n(9e3),r=n(5548),s=n(6880),c=n(1712),d=n(1584),l=n(4864),u=n(4296),x=n(4194),h=n(4480),p=n(3540),m=n(7976),f=n(2496);const v=(0,o.lazy)((()=>Promise.all([n.e(448),n.e(848)]).then(n.bind(n,3848))));function b(e,t){if(t)return e&&[u.QJ.Superuser,u.QJ.Director].includes(e)?void 0:parseInt(t)}function g(){const e=(0,x.eu)("up","lg","xl"),{office:t,role:n}=(0,x.Cq)((e=>e.auth)),[u,g]=(0,o.useState)(!1),[w,S]=(0,o.useState)(null),[k,j]=(0,o.useState)(new Date),[C,D]=(0,o.useState)(new Date),{data:W,error:I,refetch:y}=(0,h.U)(m.UJ,{variables:{officeId:b(n,t),date:new Date(k).toISOString()}}),[M,{error:G}]=(0,p.c)(m.cx);(0,o.useEffect)((()=>{y({officeId:b(n,t),date:new Date(k).toISOString()})}),[k,n,t,y]);const R=()=>{g(!u),S(null),y({officeId:b(n,t),date:new Date(k).toISOString()})};return(0,f.jsxs)(c.c,{children:[(0,f.jsxs)(i.c,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[(0,f.jsxs)(i.c,{direction:"row",alignItems:"center",justifyContent:"start",children:[(0,f.jsx)(r.c,{onClick:e=>{const t=new Date(k);t.setMonth(t.getMonth()-1),j(t)},children:(0,f.jsx)(l.ov,{icon:"uil:arrow-left"})}),(0,f.jsx)(s.c,{variant:"h4",children:new Date(k).toLocaleDateString(void 0,{month:"short",year:"numeric"}).toUpperCase()}),(0,f.jsx)(r.c,{onClick:e=>{const t=new Date(k);t.setMonth(t.getMonth()+1),j(t)},children:(0,f.jsx)(l.ov,{icon:"uil:arrow-right"})})]}),(0,f.jsxs)(i.c,{direction:"row",spacing:1,alignItems:"center",justifyContent:"flex-end",children:[void 0===b(n,t)&&(0,f.jsx)(a.c,{onClick:R,variant:"contained",color:"inherit",startIcon:(0,f.jsx)(l.ov,{icon:"eva:plus-fill"}),children:"Create"}),(0,f.jsx)(d.gf,{document:(0,f.jsx)(l._M,{events:W,currentDate:k}),fileName:"".concat(new Date(k).toLocaleDateString(void 0,{month:"short",year:"numeric"}).toUpperCase(),".pdf"),children:t=>{let{url:n}=t;return n&&(e?(0,f.jsx)(a.c,{variant:"outlined",onClick:()=>window.open(n,"_blank"),startIcon:(0,f.jsx)(l.ov,{icon:"ant-design:export-outlined"}),sx:{color:"black",borderColor:"black"},children:"Export"}):(0,f.jsx)(a.c,{variant:"outlined",onClick:()=>window.open(n,"_blank"),sx:{color:"black",borderColor:"black"},children:(0,f.jsx)(l.ov,{icon:"ant-design:export-outlined"})}))}})]})]}),(0,f.jsx)(l.Yf,{events:W,officeId:b(n,t),currentDate:k,selectedDate:C,onSelectDate:e=>D(e),onEditEvent:(e,t)=>{S(t),g(!0)},onDeleteEvent:async(e,o)=>{await M({variables:{id:o}}),y({officeId:b(n,t),date:new Date(k).toISOString()})}}),(0,f.jsx)(o.Suspense,{children:(0,f.jsx)(v,{eventId:w,selectedDate:C,open:u,onClose:R})}),(0,f.jsx)(l.wR,{severity:"error",message:(null===I||void 0===I?void 0:I.message)||(null===G||void 0===G?void 0:G.message)})]})}},1712:(e,t,n)=>{n.d(t,{c:()=>k});var o=n(5656),i=n(5072),a=n(9060),r=n(9736),s=n(5336),c=n(3448),d=n(1412),l=n(3596),u=n(7736),x=n(4276),h=n(2496);const p=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,x.c)(),f=(0,u.c)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,s.c)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),v=e=>(0,l.c)({props:e,name:"MuiContainer",defaultTheme:m});var b=n(5832),g=n(2556),w=n(3456);const S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=f,useThemeProps:n=v,componentName:l="MuiContainer"}=e,u=t((e=>{let{theme:t,ownerState:n}=e;return(0,i.c)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const o=n,i=t.breakpoints.values[o];return 0!==i&&(e[t.breakpoints.up(o)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,i.c)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})})),x=a.forwardRef((function(e,t){const a=n(e),{className:x,component:m="div",disableGutters:f=!1,fixed:v=!1,maxWidth:b="lg"}=a,g=(0,o.c)(a,p),w=(0,i.c)({},a,{component:m,disableGutters:f,fixed:v,maxWidth:b}),S=((e,t)=>{const{classes:n,fixed:o,disableGutters:i,maxWidth:a}=e,r={root:["root",a&&"maxWidth".concat((0,s.c)(String(a))),o&&"fixed",i&&"disableGutters"]};return(0,d.c)(r,(e=>(0,c.cp)(t,e)),n)})(w,l);return(0,h.jsx)(u,(0,i.c)({as:m,ownerState:w,className:(0,r.c)(S.root,x),ref:t},g))}));return x}({createStyledComponent:(0,g.cp)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,b.c)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,w.c)({props:e,name:"MuiContainer"})}),k=S}}]);
//# sourceMappingURL=816.a92567af.chunk.js.map