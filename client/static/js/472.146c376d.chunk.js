"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[472],{8472:(e,n,i)=>{i.r(n),i.d(n,{default:()=>W});var t=i(9060),r=i(1560),s=i(7256),l=i(3692),a=i(8960),o=i(9e3),c=i(8320),d=i(2112),u=i(7532),h=i(6880),m=i(3288),x=i(9872),p=i(9572),g=i(4194),j=i(2148),v=i(4864),f=i(9732),b=i(8964),y=i(4296),C=i(2496);const I={email:"",phone:"",code:""};function W(){const e=(0,m.c)(),{uuid:n,role:i}=(0,g.Cq)((e=>e.auth)),{uuid:W}=(0,r.W4)(),S=(0,g.KX)(),[k,w]=(0,t.useState)(),[A,P]=(0,t.useState)(!1),[U,z]=(0,t.useState)(I),{email:V,phone:q,code:D}=U,[L,{error:M}]=(0,f.U)(b.GM),[O,{error:R}]=(0,f.U)(b.Mz),E=e=>{z({...U,[e.target.name]:e.target.value})};return(0,C.jsxs)(s.c,{sx:{...(0,j.mo)({color:(0,x.W4)(e.palette.background.default,.5),imgUrl:"/assets/background/overlay_5.jpg"}),height:1},children:[(0,C.jsx)(v.Ml,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),(0,C.jsx)(a.c,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,C.jsxs)(l.c,{sx:{p:5,width:1,maxWidth:420},children:[(0,C.jsx)(h.c,{variant:"h4",children:"ACCOUNT VERIFICATION"}),A?(0,C.jsxs)("form",{onSubmit:e=>{e.preventDefault(),O({variables:{email:V,phone:q,code:D}}).then((e=>{let{data:t}=e;t&&t.confirmAccountVerify&&(n&&i?[y.QJ.Superuser,y.QJ.Director].includes(i)?S.push("/dashboard"):S.push("/documents"):S.push("/login"))})).catch((e=>{w(e.message)}))},children:[(0,C.jsx)(a.c,{spacing:2,sx:{my:3},children:(0,C.jsx)(c.c,{name:"code",label:"Code",value:D,onChange:E,required:!0,fullWidth:!0})}),(0,C.jsx)(a.c,{direction:"row",alignItems:"center",justifyContent:"center",sx:{my:2},children:((null===R||void 0===R?void 0:R.message)||k)&&(0,C.jsx)(h.c,{variant:"body2",align:"center",color:"error",children:(null===R||void 0===R?void 0:R.message)||k})}),(0,C.jsx)(o.c,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:"Verify Account"})]}):(0,C.jsxs)("form",{onSubmit:e=>{e.preventDefault(),W?V||q?L({variables:{uuid:W,email:V,phone:q}}).then((e=>{let{data:n}=e;n&&n.requestAccountVerify&&(P(!0),w(void 0))})).catch((e=>{w(e.message)})):w("Please type your email or phone number."):w("Invalid URL. Please relaod.")},children:[(0,C.jsxs)(a.c,{spacing:2,sx:{my:3},children:[(0,C.jsx)(c.c,{name:"email",label:"Email",type:"email",value:V,onChange:E,fullWidth:!0}),(0,C.jsx)(d.c,{children:(0,C.jsx)(u.c,{label:"OR",size:"medium"})}),(0,C.jsx)(c.c,{name:"phone",label:"Phone",value:q,onChange:E,inputProps:{minLength:10,maxLength:10},InputProps:{startAdornment:(0,C.jsx)(p.c,{position:"start",children:"+63"})},fullWidth:!0})]}),(0,C.jsx)(a.c,{direction:"row",alignItems:"center",justifyContent:"center",sx:{my:2},children:((null===M||void 0===M?void 0:M.message)||k)&&(0,C.jsx)(h.c,{variant:"body2",align:"center",color:"error",children:(null===M||void 0===M?void 0:M.message)||k})}),(0,C.jsx)(o.c,{fullWidth:!0,endIcon:(0,C.jsx)(v.ov,{icon:"mdi:arrow-right"}),size:"large",type:"submit",variant:"contained",color:"inherit",children:"Send Code"})]})]})})]})}}}]);
//# sourceMappingURL=472.146c376d.chunk.js.map