"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[336],{1336:(e,n,t)=>{t.r(n),t.d(n,{default:()=>R});var a=t(9060),l=t(2656),r=t(6773),i=t(4488),s=t(7667),c=t(9e3),o=t(5448),d=t(8960),u=t(8320),h=t(9344),p=t(7868),m=t.n(p),x=t(4924),v=t(7976),j=t(9732),y=t(3540),g=t(2496);const f={name:"",basis:"",frequency:"NONE",type:"HR"};function R(e){let{reportId:n,open:t,onClose:p}=e;const[R,{error:b}]=(0,j.U)(v.G2,{fetchPolicy:"no-cache"}),[D,w]=(0,a.useState)(f),[I,C]=(0,a.useState)(m()(new Date)),[N,S]=(0,a.useState)(m()(new Date)),{name:q,basis:E,frequency:W,type:B}=D,[O,{error:k}]=(0,y.c)(v.eA),[A,{error:Y}]=(0,y.c)(v.AX);(0,a.useEffect)((()=>{n?R({variables:{id:n}}).then((e=>{let{data:n}=e;n&&(w({name:n.getReportById.name,basis:n.getReportById.basis,frequency:n.getReportById.frequency,type:n.getReportById.type}),C(m()(new Date(n.getReportById.localDue))),S(m()(new Date(n.getReportById.nationalDue))))})):(w(f),C(m()(new Date)),S(m()(new Date)))}),[n,R]);const M=e=>{w({...D,[e.target.name]:e.target.value})};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.c,{open:t,onClose:p,maxWidth:"sm",fullWidth:!0,children:(0,g.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n?await A({variables:{id:n,name:q,basis:E,type:B,frequency:W,localDue:I.toISOString(),nationalDue:N.toISOString()}}):await O({variables:{name:q,basis:E,type:B,frequency:W,localDue:I.toISOString(),nationalDue:N.toISOString()}}),w(f),C(m()(new Date)),S(m()(new Date)),p()},children:[(0,g.jsx)(r.c,{children:n?"Edit Report":"Create Report"}),(0,g.jsx)(i.c,{children:(0,g.jsxs)(o.cp,{container:!0,spacing:3,sx:{pt:2},children:[(0,g.jsx)(o.cp,{item:!0,xs:12,children:(0,g.jsx)(u.c,{name:"name",label:"Report Name",variant:"outlined",value:q,onChange:M,fullWidth:!0,required:!0})}),(0,g.jsx)(o.cp,{item:!0,xs:12,children:(0,g.jsx)(u.c,{name:"basis",label:"Report Basis",variant:"outlined",value:E,onChange:M,fullWidth:!0,required:!0})}),(0,g.jsx)(o.cp,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsx)(x.I4,{label:"Next Regional Deadline",value:I,onChange:e=>{e&&C(e)}})}),(0,g.jsx)(o.cp,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsx)(x.I4,{label:"Next National Deadline",value:N,onChange:e=>{e&&S(e)}})}),(0,g.jsx)(o.cp,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsxs)(u.c,{name:"frequency",select:!0,label:"Frequency",variant:"outlined",value:W,onChange:M,required:!0,fullWidth:!0,children:[(0,g.jsx)(h.c,{value:"NONE",children:"None"}),(0,g.jsx)(h.c,{value:"WEEKLY",children:"Weekly"}),(0,g.jsx)(h.c,{value:"MONTHLY",children:"Monthly"}),(0,g.jsx)(h.c,{value:"QUARTERLY",children:"Quarterly"}),(0,g.jsx)(h.c,{value:"YEARLY",children:"Yearly"})]})}),(0,g.jsx)(o.cp,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsxs)(u.c,{name:"type",select:!0,label:"Report Type",variant:"outlined",value:B,onChange:M,required:!0,fullWidth:!0,children:[(0,g.jsx)(h.c,{value:"HR",children:"Human Resource Report"}),(0,g.jsx)(h.c,{value:"ADMIN",children:"Administrative Report"})]})})]})}),(0,g.jsx)(s.c,{children:(0,g.jsxs)(d.c,{direction:"row",spacing:2,children:[(0,g.jsx)(c.c,{onClick:p,color:"inherit",children:"Cancel"}),(0,g.jsx)(c.c,{variant:"contained",color:"inherit",type:"submit",children:"Save"})]})})]})}),(0,g.jsx)(x.wR,{severity:"error",message:(null===k||void 0===k?void 0:k.message)||(null===b||void 0===b?void 0:b.message)||(null===Y||void 0===Y?void 0:Y.message)})]})}},6773:(e,n,t)=>{t.d(n,{c:()=>v});var a=t(5072),l=t(5656),r=t(9060),i=t(9736),s=t(1412),c=t(6880),o=t(2556),d=t(3456),u=t(2172),h=t(6432),p=t(2496);const m=["className","id"],x=(0,o.cp)(c.c,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,n)=>n.root})({padding:"16px 24px",flex:"0 0 auto"}),v=r.forwardRef((function(e,n){const t=(0,d.c)({props:e,name:"MuiDialogTitle"}),{className:c,id:o}=t,v=(0,l.c)(t,m),j=t,y=(e=>{const{classes:n}=e;return(0,s.c)({root:["root"]},u.G,n)})(j),{titleId:g=o}=r.useContext(h.c);return(0,p.jsx)(x,(0,a.c)({component:"h2",className:(0,i.c)(y.root,c),ownerState:j,ref:n,variant:"h6",id:null!=o?o:g},v))}))}}]);
//# sourceMappingURL=336.3e513af3.chunk.js.map