"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[160],{8160:(e,i,a)=>{a.r(i),a.d(i,{default:()=>O});var t=a(9060),s=a(7256),n=a(272),r=a(3692),l=a(8960),o=a(9e3),c=a(8320),d=a(6880),f=a(5548),u=a(3288),m=a(9872),h=a(9572),v=a(9704),g=a(4194),x=a(2148),p=a(4864),j=a(9732),b=a(8964),N=a(4296),y=a(2496);const w={firstName:"",lastName:"",password:""};function O(){const e=(0,u.c)(),i=(0,g.KX)(),a=(0,g.Ab)(),[O,C]=(0,t.useState)(),[S,k]=(0,t.useState)(!1),[W,I]=(0,t.useState)(w),{firstName:q,lastName:D,password:J}=W,[Q,{error:A}]=(0,j.U)(b.qy),M=e=>{I({...W,[e.target.name]:e.target.value})};return(0,y.jsxs)(s.c,{sx:{...(0,x.mo)({color:(0,m.W4)(e.palette.background.default,.5),imgUrl:"/assets/background/overlay_5.jpg"}),height:1},children:[(0,y.jsx)(p.Ml,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),(0,y.jsx)(l.c,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,y.jsxs)(r.c,{sx:{p:5,width:1,maxWidth:420},children:[(0,y.jsx)(d.c,{variant:"h4",children:"SIGN IN"}),(0,y.jsxs)(d.c,{variant:"body2",sx:{mt:2,mb:5},children:["Don't have an account?",(0,y.jsx)(n.c,{href:"/register",variant:"subtitle2",sx:{ml:.5,cursor:"pointer"},children:"Sign up"})]}),(0,y.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=await Q({variables:{firstName:q.trim(),lastName:D.trim(),password:J}});if(t.data&&t.data.loginOfficer){var s,n,r,l;a((0,v.Mp)({uuid:t.data.loginOfficer.uuid,firstName:t.data.loginOfficer.firstName,lastName:t.data.loginOfficer.lastName,role:null===(s=t.data.loginOfficer.position)||void 0===s?void 0:s.role,office:null===(n=t.data.loginOfficer.office)||void 0===n?void 0:n.id,position:null===(r=t.data.loginOfficer.position)||void 0===r?void 0:r.label,avatar:t.data.loginOfficer.avatar}));const e=(null===(l=t.data.loginOfficer.position)||void 0===l?void 0:l.role)||N.QJ.Officer;[N.QJ.Superuser,N.QJ.Director].includes(e)?i.push("/dashboard"):i.push("/documents")}else C("Wrong credentials or account is inactive.");I(w)},children:[(0,y.jsxs)(l.c,{spacing:2,sx:{mb:3},children:[(0,y.jsx)(c.c,{name:"firstName",label:"First Name",value:q,onChange:M,required:!0,fullWidth:!0}),(0,y.jsx)(c.c,{name:"lastName",label:"Last Name",value:D,onChange:M,required:!0,fullWidth:!0}),(0,y.jsx)(c.c,{name:"password",label:"Password",type:S?"text":"password",value:J,onChange:M,required:!0,fullWidth:!0,InputProps:{endAdornment:(0,y.jsx)(h.c,{position:"end",children:(0,y.jsx)(f.c,{onClick:()=>k(!S),edge:"end",children:(0,y.jsx)(p.ov,{icon:S?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),(0,y.jsx)(l.c,{direction:"row",alignItems:"center",justifyContent:"center",sx:{my:2},children:((null===A||void 0===A?void 0:A.message)||O)&&(0,y.jsx)(d.c,{variant:"body2",align:"center",color:"error",children:(null===A||void 0===A?void 0:A.message)||O})}),(0,y.jsx)(o.c,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:"Sign in"})]})]})})]})}}}]);
//# sourceMappingURL=160.9b485fe9.chunk.js.map