/*! For license information please see 776.b8b44032.chunk.js.LICENSE.txt */
(self.webpackChunkclient=self.webpackChunkclient||[]).push([[776],{5776:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>N});var i=n(9060),o=n(2656),a=n(6773),r=n(4488),s=n(7667),c=n(9e3),l=n(5448),h=n(7256),u=n(6880),d=n(8960),p=n(7960),f=n(8320),v=n(4016),m=n(4400),g=n(5548),x=n(9572),_=n(1864),y=n.n(_),w=n(3358),P=n(9704),b=n(4194),j=n(4864),C=n(8372),D=n(9732),E=n(3540),k=n(8964),M=n(2496);const O={firstName:"",lastName:"",avatar:"",password:"",email:"",phone:""},W=[{alt:"Profile 0",src:"/assets/images/avatars/avatar_30.jpg"},{alt:"Profile 1",src:"/assets/images/avatars/avatar_27.jpg"},{alt:"Profile 2",src:"/assets/images/avatars/avatar_28.jpg"},{alt:"Profile 3",src:"/assets/images/avatars/avatar_26.jpg"},{alt:"Profile 4",src:"/assets/images/avatars/avatar_29.jpg"}];function N(t){let{open:e,onClose:n}=t;const _=(0,b.Ab)(),{uuid:N}=(0,b.Cq)((t=>t.auth)),[T,S]=(0,i.useState)(),[L,R]=(0,i.useState)(!1),[U,F]=(0,i.useState)(!1),[B,z]=(0,i.useState)(W),[A,I]=(0,i.useState)(O),q=(0,i.useRef)(null),{firstName:H,lastName:V,email:G,phone:X,avatar:J,signature:K,password:Y}=A,[Q,{error:Z}]=(0,D.U)(k.mG),[$,{error:tt}]=(0,E.c)(k.Kg);(0,i.useEffect)((()=>{N&&Q({variables:{uuid:N}}).then((t=>{let{data:e}=t;e&&e.getOfficerById&&I({firstName:e.getOfficerById.firstName,lastName:e.getOfficerById.lastName,avatar:e.getOfficerById.avatar,signature:e.getOfficerById.signature,email:e.getOfficerById.email,phone:e.getOfficerById.phone,password:""})}))}),[N,Q]);const et=t=>{I({...A,[t.target.name]:t.target.value})},nt=t=>{R(!L)};return(0,M.jsxs)(o.c,{open:e,onClose:n,maxWidth:"md",fullWidth:!0,children:[(0,M.jsx)(a.c,{children:"Profile"}),(0,M.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!N)return;const e=await $({variables:{uuid:N,firstName:H,lastName:V,email:G,phone:X,avatar:J,signature:!K||L?await new Promise(((t,e)=>{try{var n;null===(n=q.current)||void 0===n||n.getTrimmedCanvas().toBlob((n=>{if(n){const i=new FormData;i.append("files",n,"".concat(V,"_signature.png")),C.c.post("https://rr6manila.com/api/upload",i).then((e=>{let{data:n}=e;const i=n.files[0].fileUrl;I({...A,signature:i}),R(!1),t(i)})).catch((t=>e(t.message)))}}),"image/png")}catch(T){S("Failed to upload files.")}})):K,password:Y.length>5?Y:void 0}});e.data&&e.data.updateOfficer?(_((0,P.Jr)({firstName:H,lastName:V,avatar:J})),n()):S("Failed to update profile.")},children:[(0,M.jsx)(r.c,{children:(0,M.jsxs)(l.cp,{container:!0,spacing:3,children:[(0,M.jsx)(l.cp,{item:!0,xs:12,sm:6,md:6,children:(0,M.jsxs)(d.c,{spacing:2,children:[(0,M.jsx)(f.c,{name:"firstName",label:"First Name",value:H,onChange:et,required:!0,fullWidth:!0}),(0,M.jsx)(f.c,{name:"lastName",label:"Last Name",value:V,onChange:et,required:!0,fullWidth:!0}),(0,M.jsx)(f.c,{name:"email",label:"Email",type:"email",value:G,onChange:et,fullWidth:!0}),(0,M.jsx)(f.c,{name:"phone",label:"Phone",value:X,onChange:et,inputProps:{minLength:10,maxLength:10},InputProps:{startAdornment:(0,M.jsx)(x.c,{position:"start",children:"+63"})},fullWidth:!0}),(0,M.jsx)(f.c,{name:"password",label:"New Password",type:U?"text":"password",value:Y,onChange:et,fullWidth:!0,inputProps:{minLength:8},InputProps:{endAdornment:(0,M.jsx)(x.c,{position:"end",children:(0,M.jsx)(g.c,{onClick:()=>F(!U),edge:"end",children:(0,M.jsx)(j.ov,{icon:U?"eva:eye-fill":"eva:eye-off-fill"})})})}})]})}),(0,M.jsx)(l.cp,{item:!0,xs:12,sm:6,md:6,children:(0,M.jsxs)(d.c,{spacing:2,children:[(0,M.jsxs)(v.c,{children:[(0,M.jsx)(m.c,{sx:{mb:1},children:"Avatar"}),(0,M.jsxs)(d.c,{direction:"row",spacing:2,sx:{maxWidth:"100%",overflowX:"auto"},children:[B.map((t=>(0,M.jsx)(p.c,{src:t.src,alt:t.alt,onClick:e=>{return n=t.src,void I({...A,avatar:n});var n},sx:{opacity:t.src===J?1:.3,cursor:"pointer"}},t.alt))),(0,M.jsx)(w.c,{title:"Upload",children:(0,M.jsxs)(p.c,{component:"label",sx:{cursor:"pointer"},children:[(0,M.jsx)(j.ov,{icon:"material-symbols:upload"}),(0,M.jsx)("input",{type:"file",accept:"image/*",onChange:async t=>{if(t.target.files){const n=t.target.files[0];try{const t=new FormData;t.append("files",n);const e=(await C.c.post("https://rr6manila.com/api/upload",t)).data.files;z((t=>[...t,{alt:e[0].fileName,src:e[0].fileUrl}])),I({...A,avatar:e[0].fileUrl})}catch(e){return void S("Failed to upload files.")}}},hidden:!0,style:{display:"none"}})]})})]})]}),(0,M.jsxs)(v.c,{children:[(0,M.jsx)(m.c,{sx:{mb:1},children:"Signature"}),(0,M.jsx)(h.c,{sx:{display:"flex",position:"relative",alignItems:"center",justifyContent:"center",border:"1px solid black",borderRadius:2},children:!K||L?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(y(),{penColor:"black",ref:q,canvasProps:{width:224,height:126}}),(0,M.jsxs)(d.c,{direction:"row",justifyContent:"flex-end",sx:{position:"absolute",top:0,right:0,p:1},children:[(0,M.jsx)(w.c,{title:"Upload",children:(0,M.jsxs)(g.c,{component:"label",children:[(0,M.jsx)(j.ov,{icon:"material-symbols:upload"}),(0,M.jsx)("input",{type:"file",accept:"image/*",onChange:async t=>{if(t.target.files){const n=t.target.files[0];try{const t=new FormData;t.append("files",n);const e=(await C.c.post("https://rr6manila.com/api/upload",t)).data.files;I({...A,signature:e[0].fileUrl}),R(!1)}catch(e){return void S("Failed to upload files.")}}},hidden:!0,style:{display:"none"}})]})}),L&&(0,M.jsx)(w.c,{title:"Cancel",children:(0,M.jsx)(g.c,{onClick:nt,children:(0,M.jsx)(j.ov,{icon:"iconoir:cancel"})})})]})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(h.c,{sx:{p:2},children:(0,M.jsx)(h.c,{component:"img",src:K,alt:"signature",sx:{width:"100%",height:"100%",maxWidth:224,maxHeight:126}})}),(0,M.jsx)(d.c,{direction:"row",justifyContent:"flex-end",sx:{position:"absolute",top:0,right:0,p:1},children:(0,M.jsx)(w.c,{title:"Edit",children:(0,M.jsx)(g.c,{onClick:nt,children:(0,M.jsx)(j.ov,{icon:"mingcute:edit-line"})})})})]})})]})]})}),((null===Z||void 0===Z?void 0:Z.message)||T||(null===tt||void 0===tt?void 0:tt.message))&&(0,M.jsx)(l.cp,{item:!0,xs:12,children:(0,M.jsx)(u.c,{variant:"body2",align:"right",color:"error",children:(null===Z||void 0===Z?void 0:Z.message)||T||(null===tt||void 0===tt?void 0:tt.message)})})]})}),(0,M.jsxs)(s.c,{children:[(0,M.jsx)(c.c,{onClick:n,color:"inherit",children:"Cancel"}),(0,M.jsx)(c.c,{type:"submit",variant:"contained",color:"inherit",children:"Save"})]})]})]})}},6773:(t,e,n)=>{"use strict";n.d(e,{c:()=>m});var i=n(5072),o=n(5656),a=n(9060),r=n(9736),s=n(1412),c=n(6880),l=n(2556),h=n(3456),u=n(2172),d=n(6432),p=n(2496);const f=["className","id"],v=(0,l.cp)(c.c,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),m=a.forwardRef((function(t,e){const n=(0,h.c)({props:t,name:"MuiDialogTitle"}),{className:c,id:l}=n,m=(0,o.c)(n,f),g=n,x=(t=>{const{classes:e}=t;return(0,s.c)({root:["root"]},u.G,e)})(g),{titleId:_=l}=a.useContext(d.c);return(0,p.jsx)(v,(0,i.c)({component:"h2",className:(0,r.c)(x.root,c),ownerState:g,ref:e,variant:"h6",id:null!=l?l:_},m))}))},1864:function(t,e,n){var i,o,a,r;t.exports=(i=n(7460),o=n(9060),a=n(6016),r=n(3016),function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=i(n(1)),u=n(2),d=i(u),p=i(n(3)),f=i(n(4)),v=function(t){function e(){var t,n,i;a(this,e);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=i=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),i._sigPad=null,i._excludeOurProps=function(){var t=i.props;return t.canvasProps,t.clearOnResize,o(t,["canvasProps","clearOnResize"])},i.getCanvas=function(){return i._canvas},i.getTrimmedCanvas=function(){var t=document.createElement("canvas");return t.width=i._canvas.width,t.height=i._canvas.height,t.getContext("2d").drawImage(i._canvas,0,0),(0,f.default)(t)},i.getSignaturePad=function(){return i._sigPad},i._checkClearOnResize=function(){i.props.clearOnResize&&i._resizeCanvas()},i._resizeCanvas=function(){var t=i.props.canvasProps||{},e=t.width,n=t.height;if(!e||!n){var o=i._canvas,a=Math.max(window.devicePixelRatio||1,1);e||(o.width=o.offsetWidth*a),n||(o.height=o.offsetHeight*a),o.getContext("2d").scale(a,a),i.clear()}},i.on=function(){return window.addEventListener("resize",i._checkClearOnResize),i._sigPad.on()},i.off=function(){return window.removeEventListener("resize",i._checkClearOnResize),i._sigPad.off()},i.clear=function(){return i._sigPad.clear()},i.isEmpty=function(){return i._sigPad.isEmpty()},i.fromDataURL=function(t,e){return i._sigPad.fromDataURL(t,e)},i.toDataURL=function(t,e){return i._sigPad.toDataURL(t,e)},i.fromData=function(t){return i._sigPad.fromData(t)},i.toData=function(){return i._sigPad.toData()},r(i,n)}return s(e,t),l(e,[{key:"componentDidMount",value:function(){this._sigPad=new p.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var t=this,e=this.props.canvasProps;return d.default.createElement("canvas",c({ref:function(e){t._canvas=e}},e))}}]),e}(u.Component);v.propTypes={velocityFilterWeight:h.default.number,minWidth:h.default.number,maxWidth:h.default.number,minDistance:h.default.number,dotSize:h.default.oneOfType([h.default.number,h.default.func]),penColor:h.default.string,throttle:h.default.number,onEnd:h.default.func,onBegin:h.default.func,canvasProps:h.default.object,clearOnResize:h.default.bool},v.defaultProps={clearOnResize:!0},e.default=v},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e){t.exports=a},function(t,e){t.exports=r}]))},3016:function(t){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t){var e=t.getContext("2d"),n=t.width,i=t.height,o=e.getImageData(0,0,n,i).data,s=a(!0,n,i,o),c=a(!1,n,i,o),l=r(!0,n,i,o),h=r(!1,n,i,o)-l+1,u=c-s+1,d=e.getImageData(l,s,h,u);return t.width=h,t.height=u,e.clearRect(0,0,h,u),e.putImageData(d,0,0),t}function i(t,e,n,i){return{red:i[4*(n*e+t)],green:i[4*(n*e+t)+1],blue:i[4*(n*e+t)+2],alpha:i[4*(n*e+t)+3]}}function o(t,e,n,o){return i(t,e,n,o).alpha}function a(t,e,n,i){for(var a=t?1:-1,r=t?0:n-1;t?r<n:r>-1;r+=a)for(var s=0;s<e;s++)if(o(s,r,e,i))return r;return null}function r(t,e,n,i){for(var a=t?1:-1,r=t?0:e-1;t?r<e:r>-1;r+=a)for(var s=0;s<n;s++)if(o(r,s,e,i))return r;return null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}])},6016:(t,e,n)=>{"use strict";function i(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()}function o(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i}function a(t,e){var n=this,i=e||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this.throttle?this._strokeMoveUpdate=function(t,e,n){var i,o,a,r=null,s=0;n||(n={});var c=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)};return function(){var l=Date.now();s||!1!==n.leading||(s=l);var h=e-(l-s);return i=this,o=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,h)),a}}(a.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=a.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(n._mouseButtonDown=!0,n._strokeBegin(t))},this._handleMouseMove=function(t){n._mouseButtonDown&&n._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(t))},this._handleTouchStart=function(t){if(1===t.targetTouches.length){var e=t.changedTouches[0];n._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];n._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){t.target===n._canvas&&(t.preventDefault(),n._strokeEnd(t))},this.on()}n.r(e),n.d(e,{default:()=>r}),i.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},i.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},i.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},o.prototype.length=function(){for(var t=0,e=void 0,n=void 0,i=0;i<=10;i+=1){var o=i/10,a=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var s=a-e,c=r-n;t+=Math.sqrt(s*s+c*c)}e=a,n=r}return t},o.prototype._point=function(t,e,n,i,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t},a.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},a.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,o=n.ratio||window.devicePixelRatio||1,a=n.width||this._canvas.width/o,r=n.height||this._canvas.height/o;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,a,r)},this._isEmpty=!1},a.prototype.toDataURL=function(t){var e;if("image/svg+xml"===t)return this._toSVG();for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=this._canvas).toDataURL.apply(e,[t].concat(i))},a.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},a.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},a.prototype.isEmpty=function(){return this._isEmpty},a.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"===typeof this.onBegin&&this.onBegin(t)},a.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),o=this._data[this._data.length-1],a=o&&o[o.length-1],r=a&&i.distanceTo(a)<this.minDistance;if(!a||!r){var s=this._addPoint(i),c=s.curve,l=s.widths;c&&l&&this._drawCurve(c,l.start,l.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},a.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1],o=i[i.length-1];n.equals(o)||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"===typeof this.onEnd&&this.onEnd(t)},a.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},a.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},a.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},a.prototype._createPoint=function(t,e,n){var o=this._canvas.getBoundingClientRect();return new i(t-o.left,e-o.top,n||(new Date).getTime())},a.prototype._addPoint=function(t){var e=this.points;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var n=this._calculateCurveControlPoints(e[0],e[1],e[2]).c2,i=this._calculateCurveControlPoints(e[1],e[2],e[3]).c1,a=new o(e[1],n,i,e[2]),r=this._calculateCurveWidths(a);return e.shift(),{curve:a,widths:r}}return{}},a.prototype._calculateCurveControlPoints=function(t,e,n){var o=t.x-e.x,a=t.y-e.y,r=e.x-n.x,s=e.y-n.y,c=(t.x+e.x)/2,l=(t.y+e.y)/2,h=(e.x+n.x)/2,u=(e.y+n.y)/2,d=Math.sqrt(o*o+a*a),p=Math.sqrt(r*r+s*s),f=p/(d+p),v=h+(c-h)*f,m=u+(l-u)*f,g=e.x-v,x=e.y-m;return{c1:new i(c+g,l+x),c2:new i(h+g,u+x)}},a.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,i={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(o);return i.start=this._lastWidth,i.end=a,this._lastVelocity=o,this._lastWidth=a,i},a.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},a.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},a.prototype._drawCurve=function(t,e,n){var i=this._ctx,o=n-e,a=Math.floor(t.length());i.beginPath();for(var r=0;r<a;r+=1){var s=r/a,c=s*s,l=c*s,h=1-s,u=h*h,d=u*h,p=d*t.startPoint.x;p+=3*u*s*t.control1.x,p+=3*h*c*t.control2.x,p+=l*t.endPoint.x;var f=d*t.startPoint.y;f+=3*u*s*t.control1.y,f+=3*h*c*t.control2.y,f+=l*t.endPoint.y;var v=e+l*o;this._drawPoint(p,f,v)}i.closePath(),i.fill()},a.prototype._drawDot=function(t){var e=this._ctx,n="function"===typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},a.prototype._fromData=function(t,e,n){for(var o=0;o<t.length;o+=1){var a=t[o];if(a.length>1)for(var r=0;r<a.length;r+=1){var s=a[r],c=new i(s.x,s.y,s.time),l=s.color;if(0===r)this.penColor=l,this._reset(),this._addPoint(c);else if(r!==a.length-1){var h=this._addPoint(c),u=h.curve,d=h.widths;u&&d&&e(u,d,l)}}else this._reset(),n(a[0])}},a.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),o=n.width/i,a=n.height/i,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"width",n.width),r.setAttributeNS(null,"height",n.height),this._fromData(e,(function(t,e,n){var i=document.createElement("path");if(!isNaN(t.control1.x)&&!isNaN(t.control1.y)&&!isNaN(t.control2.x)&&!isNaN(t.control2.y)){var o="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" "+t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" "+t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3);i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*e.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),r.appendChild(i)}}),(function(e){var n=document.createElement("circle"),i="function"===typeof t.dotSize?t.dotSize():t.dotSize;n.setAttribute("r",i),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("fill",e.color),r.appendChild(n)}));var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+a+'" width="'+o+'" height="'+a+'">',c=r.innerHTML;if(void 0===c){var l=document.createElement("dummy"),h=r.childNodes;l.innerHTML="";for(var u=0;u<h.length;u+=1)l.appendChild(h[u].cloneNode(!0));c=l.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+c+"</svg>")},a.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,(function(t,n){return e._drawCurve(t,n.start,n.end)}),(function(t){return e._drawDot(t)})),this._data=t},a.prototype.toData=function(){return this._data};const r=a}}]);
//# sourceMappingURL=776.b8b44032.chunk.js.map