"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[828],{2828:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var n=r(9060),i=r(7256),a=r(272),o=r(3692),s=r(8960),l=r(9e3),c=r(8320),d=r(6880),u=r(5548),v=r(9344),f=r(3288),m=r(9872),h=r(9572),p=r(4194),g=r(2148),x=r(2044),j=r(4480),b=r(3540),I=r(8964),C=r(2496);const y={firstName:"",lastName:"",positionId:"",officeId:"",password:""};function w(){const e=(0,f.c)(),t=(0,p.KX)(),[r,w]=(0,n.useState)(),[N,M]=(0,n.useState)(!1),[k,S]=(0,n.useState)(y),{firstName:W,lastName:q,positionId:E,officeId:O,password:P}=k,{data:U,error:R}=(0,j.U)(I.mq),{data:A,error:L}=(0,j.U)(I.It),[Q,{error:_}]=(0,b.c)(I.uQ),z=e=>{S({...k,[e.target.name]:e.target.value})};return(0,C.jsxs)(i.c,{sx:{...(0,g.mo)({color:(0,m.W4)(e.palette.background.default,.5),imgUrl:"/assets/background/overlay_5.jpg"}),height:1},children:[(0,C.jsx)(x.Ml,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),(0,C.jsx)(s.c,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,C.jsxs)(o.c,{sx:{p:5,width:1,maxWidth:420},children:[(0,C.jsx)(d.c,{variant:"h4",children:"SIGN UP"}),(0,C.jsxs)(d.c,{variant:"body2",sx:{mt:2,mb:5},children:["Already have an account?",(0,C.jsx)(a.c,{href:"/login",variant:"subtitle2",sx:{ml:.5,cursor:"pointer"},children:"Sign in"})]}),(0,C.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=await Q({variables:{firstName:W,lastName:q,positionId:parseInt(E),officeId:parseInt(O),password:P}});r.data&&r.data.createOfficer?t.push("/login"):w("Account already exists."),S(y)},children:[(0,C.jsxs)(s.c,{spacing:2,sx:{mb:3},children:[(0,C.jsx)(c.c,{name:"firstName",label:"First Name",value:W,onChange:z,required:!0,fullWidth:!0}),(0,C.jsx)(c.c,{name:"lastName",label:"Last Name",value:q,onChange:z,required:!0,fullWidth:!0}),U&&(0,C.jsx)(c.c,{name:"positionId",select:!0,label:"Position",value:E,onChange:z,required:!0,fullWidth:!0,children:U.getPositions.map((e=>(0,C.jsx)(v.c,{value:e.id,children:e.label},e.id)))}),A&&(0,C.jsx)(c.c,{name:"officeId",select:!0,label:"Office",value:O,onChange:z,required:!0,fullWidth:!0,children:A.getOffices.map((e=>(0,C.jsx)(v.c,{value:e.id,children:e.name},e.id)))}),(0,C.jsx)(c.c,{name:"password",label:"Password",type:N?"text":"password",value:P,onChange:z,required:!0,fullWidth:!0,InputProps:{endAdornment:(0,C.jsx)(h.c,{position:"end",children:(0,C.jsx)(u.c,{onClick:()=>M(!N),edge:"end",children:(0,C.jsx)(x.ov,{icon:N?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),(0,C.jsx)(l.c,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:"Sign up"})]})]})}),(0,C.jsx)(x.wR,{severity:"error",message:(null===R||void 0===R?void 0:R.message)||(null===L||void 0===L?void 0:L.message)||(null===_||void 0===_?void 0:_.message)||r})]})}},3540:(e,t,r)=>{r.d(t,{c:()=>d});var n=r(7328),i=r(9528),a=r(2200),o=r(3520),s=r(9179),l=r(4056),c=r(3960);function d(e,t){var r=(0,c.y)(null===t||void 0===t?void 0:t.client);(0,s.Y5)(e,s.UT.Mutation);var d=i.useState({called:!1,loading:!1,client:r}),u=d[0],v=d[1],f=i.useRef({result:u,mutationId:0,isMounted:!0,client:r,mutation:e,options:t});Object.assign(f.current,{client:r,options:t,mutation:e});var m=i.useCallback((function(e){void 0===e&&(e={});var t=f.current,r=t.options,i=t.mutation,s=(0,n.C3)((0,n.C3)({},r),{mutation:i}),c=e.client||f.current.client;f.current.result.loading||s.ignoreResults||!f.current.isMounted||v(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:c});var d=++f.current.mutationId,u=(0,a.I)(s,e);return c.mutate(u).then((function(t){var r,n,i=t.data,a=t.errors,s=a&&a.length>0?new l._M({graphQLErrors:a}):void 0,m=e.onError||(null===(r=f.current.options)||void 0===r?void 0:r.onError);if(s&&m&&m(s,u),d===f.current.mutationId&&!u.ignoreResults){var h={called:!0,loading:!1,data:i,error:s,client:c};f.current.isMounted&&!(0,o.y)(f.current.result,h)&&v(f.current.result=h)}var p=e.onCompleted||(null===(n=f.current.options)||void 0===n?void 0:n.onCompleted);return s||null===p||void 0===p||p(t.data,u),t})).catch((function(t){var r;if(d===f.current.mutationId&&f.current.isMounted){var n={loading:!1,error:t,data:void 0,called:!0,client:c};(0,o.y)(f.current.result,n)||v(f.current.result=n)}var i=e.onError||(null===(r=f.current.options)||void 0===r?void 0:r.onError);if(i)return i(t,u),{data:void 0,errors:t};throw t}))}),[]),h=i.useCallback((function(){if(f.current.isMounted){var e={called:!1,loading:!1,client:r};Object.assign(f.current,{mutationId:0,result:e}),v(e)}}),[]);return i.useEffect((function(){return f.current.isMounted=!0,function(){f.current.isMounted=!1}}),[]),[m,(0,n.C3)({reset:h},u)]}}}]);
//# sourceMappingURL=828.a9900a92.chunk.js.map