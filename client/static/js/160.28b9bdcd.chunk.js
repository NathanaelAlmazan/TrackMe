"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[160],{8160:(e,a,i)=>{i.r(a),i.d(a,{default:()=>O});var s=i(9060),t=i(7256),r=i(272),n=i(3692),l=i(8960),o=i(9e3),d=i(8320),c=i(6880),f=i(5548),u=i(3288),m=i(9872),h=i(9572),v=i(9704),g=i(4194),p=i(2148),x=i(4924),j=i(9732),b=i(8964),N=i(4296),w=i(2496);const y={firstName:"",lastName:"",password:""};function O(){const e=(0,u.c)(),a=(0,g.KX)(),i=(0,g.Ab)(),[O,S]=(0,s.useState)(),[k,C]=(0,s.useState)(!1),[W,q]=(0,s.useState)(y),{firstName:I,lastName:D,password:J}=W,[Q,{error:A}]=(0,j.U)(b.qy),M=e=>{q({...W,[e.target.name]:e.target.value})};return(0,w.jsxs)(t.c,{sx:{...(0,p.mo)({color:(0,m.W4)(e.palette.background.default,.5),imgUrl:"/assets/background/overlay_5.jpg"}),height:1},children:[(0,w.jsx)(x.Ml,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),(0,w.jsx)(l.c,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,w.jsxs)(n.c,{sx:{p:5,width:1,maxWidth:420},children:[(0,w.jsx)(c.c,{variant:"h4",children:"SIGN IN"}),(0,w.jsxs)(c.c,{variant:"body2",sx:{mt:2,mb:5},children:["Don't have an account?",(0,w.jsx)(r.c,{href:"/register",variant:"subtitle2",sx:{ml:.5,cursor:"pointer"},children:"Sign up"})]}),(0,w.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=await Q({variables:{firstName:I,lastName:D,password:J}});if(s.data&&s.data.loginOfficer){var t,r,n,l;i((0,v.Mp)({uuid:s.data.loginOfficer.uuid,firstName:s.data.loginOfficer.firstName,lastName:s.data.loginOfficer.lastName,role:null===(t=s.data.loginOfficer.position)||void 0===t?void 0:t.role,office:null===(r=s.data.loginOfficer.office)||void 0===r?void 0:r.id,position:null===(n=s.data.loginOfficer.position)||void 0===n?void 0:n.label,avatar:s.data.loginOfficer.avatar}));const e=(null===(l=s.data.loginOfficer.position)||void 0===l?void 0:l.role)||N.QJ.Officer;[N.QJ.Superuser,N.QJ.Director].includes(e)?a.push("/dashboard"):a.push("/documents")}else S("Wrong credentials or account is inactive.");q(y)},children:[(0,w.jsxs)(l.c,{spacing:2,sx:{mb:3},children:[(0,w.jsx)(d.c,{name:"firstName",label:"First Name",value:I,onChange:M,required:!0,fullWidth:!0}),(0,w.jsx)(d.c,{name:"lastName",label:"Last Name",value:D,onChange:M,required:!0,fullWidth:!0}),(0,w.jsx)(d.c,{name:"password",label:"Password",type:k?"text":"password",value:J,onChange:M,required:!0,fullWidth:!0,InputProps:{endAdornment:(0,w.jsx)(h.c,{position:"end",children:(0,w.jsx)(f.c,{onClick:()=>C(!k),edge:"end",children:(0,w.jsx)(x.ov,{icon:k?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),(0,w.jsx)(o.c,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:"Sign in"})]})]})}),(0,w.jsx)(x.wR,{severity:"error",message:O||(null===A||void 0===A?void 0:A.message)})]})}}}]);
//# sourceMappingURL=160.28b9bdcd.chunk.js.map