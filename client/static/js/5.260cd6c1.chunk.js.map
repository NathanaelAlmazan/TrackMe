{"version":3,"file":"static/js/5.260cd6c1.chunk.js","mappings":"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","sources":["sections/reports/report-dialog/SubmissionCard.tsx","sections/reports/report-dialog/SubmissionField.tsx","sections/reports/report-dialog/index.tsx","../node_modules/@mui/material/CardActions/cardActionsClasses.js","../node_modules/@mui/material/CardActions/CardActions.js","../node_modules/@mui/material/DialogTitle/DialogTitle.js"],"sourcesContent":["import Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nexport function extractFileName(url: string) {\r\n    const paths = url.split('_');\r\n    return paths[paths.length - 1];\r\n}\r\n\r\nexport default function SubmissionCard({ \r\n    message,\r\n    files,\r\n    onClose\r\n}: \r\n{ \r\n    message: string,\r\n    files?: string[] | null,\r\n    onClose: () => void\r\n}) {\r\n    return (\r\n        <Stack spacing={2}>\r\n            <Card>\r\n                <CardContent>\r\n                    <Typography variant='body1'>\r\n                        {message}\r\n                    </Typography>\r\n                </CardContent>\r\n                {files && files.length > 0 && (\r\n                    <CardActions sx={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                        <Box sx={{ maxWidth: '100%', overflow: 'auto', display: 'flex', flexDirection: 'row' }}>\r\n                            {files.map(file => (\r\n                                <Typography \r\n                                    key={file} \r\n                                    component='a' \r\n                                    variant='body2' \r\n                                    href={file.trim()}\r\n                                    target='_blank'\r\n                                    sx={{ mx: '5px'}}\r\n                                >\r\n                                    {extractFileName(file)}\r\n                                </Typography>\r\n                            ))}\r\n                        </Box>\r\n                    </CardActions>\r\n                )}\r\n            </Card>\r\n\r\n            <Stack direction='row' spacing={2} alignItems='end' justifyContent='flex-end'>\r\n                <Button color='inherit' onClick={onClose}>Close</Button>\r\n            </Stack>\r\n        </Stack>\r\n    );\r\n}","import React, { useState } from 'react';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport Stack from '@mui/material/Stack';\r\nimport Box from '@mui/material/Box';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport Chip from '@mui/material/Chip';\r\nimport Button from '@mui/material/Button';\r\nimport { Iconify, Snackbar } from '../../../components';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { useMutation } from '@apollo/client';\r\nimport { SUBMIT_REPORT } from '../../../graphql/reports';\r\n\r\n\r\nexport type MessageFiles = {\r\n    fileUrl: string;\r\n    fileName: string;\r\n    fileType: string;\r\n}\r\n\r\nfunction convertFileListToArray(fileList: FileList): File[] {\r\n    const filesArray: File[] = [];\r\n    \r\n    // Convert FileList to array\r\n    for (let i = 0; i < fileList.length; i++) {\r\n      const file = fileList.item(i);\r\n      if (file) {\r\n        filesArray.push(file);\r\n      }\r\n    }\r\n  \r\n    return filesArray;\r\n}\r\n\r\nexport default function SubmissionField(\r\n{ \r\n    reportId, \r\n    onReport, \r\n    onCancel \r\n}: { \r\n    reportId: number, \r\n    onReport: () => void, \r\n    onCancel: () => void \r\n}) {\r\n    const [message, setMessage] = useState<string>(\"\");\r\n    const [files, setFiles] = useState<File[]>([]);\r\n    const [formError, setFormError] = useState<string>();\r\n\r\n    const [submitReport, { error: submitError }] = useMutation(SUBMIT_REPORT);\r\n\r\n\r\n    const handleFilesChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const fileList = event.target.files;\r\n        if (fileList) {\r\n\r\n            setFiles(previous => previous.concat(convertFileListToArray(fileList)));\r\n        }\r\n    }\r\n\r\n    const handleDelete = (fileName: string) => {\r\n        setFiles(previous => previous.filter(file => file.name !== fileName));\r\n    }\r\n\r\n    const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n\r\n        // upload files\r\n        let uploadedFiles: MessageFiles[] = [];\r\n        if (files.length > 0) {\r\n            try {\r\n                const form = new FormData();\r\n                files.forEach((file) => {\r\n                    form.append(\"files\", file);\r\n                });\r\n\r\n                const result = await axios.post(process.env.REACT_APP_MEDIA_URL as string, form);\r\n                uploadedFiles = result.data.files;\r\n            } catch (err) {\r\n                setFormError(\"Failed to upload files.\");\r\n                return\r\n            }\r\n        }\r\n\r\n        // create comment\r\n        await submitReport({\r\n            variables:{\r\n                id: reportId,\r\n                message: message,\r\n                files: uploadedFiles.map(file => file.fileUrl)\r\n            }\r\n        });\r\n\r\n        onReport(); // reload\r\n        setMessage(\"\"); // reset message\r\n        setFiles([]); // reset files\r\n        onCancel();\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Box \r\n            component='form'\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <Stack spacing={2}>\r\n                <Box sx={{ maxWidth: '100%', overflow: 'auto', display: 'flex', flexDirection: 'row' }}>\r\n                    {files.map(file => (\r\n                        <Chip key={file.name} label={file.name} variant=\"outlined\" onDelete={() => handleDelete(file.name)} sx={{ mx: '5px' }} />\r\n                    ))}\r\n                </Box>\r\n\r\n                <TextField \r\n                    variant='outlined'\r\n                    placeholder='Report...' \r\n                    value={message}\r\n                    onChange={(e) => setMessage(e.target.value)}\r\n                    multiline\r\n                    rows={3}\r\n                    required\r\n                    fullWidth \r\n                    InputProps={{\r\n                        endAdornment: \r\n                            <InputAdornment position=\"end\">\r\n                                <Tooltip title='Insert File'>\r\n                                    <IconButton component='label'>\r\n                                        <Iconify icon='material-symbols:attach-file-add-rounded' />\r\n\r\n                                        <input \r\n                                            type='file' \r\n                                            multiple\r\n                                            hidden \r\n                                            style={{ display: 'none' }}\r\n                                            onChange={handleFilesChange}\r\n                                        />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                            </InputAdornment>,\r\n                    }}\r\n                />\r\n\r\n                <Stack direction='row' spacing={2} alignItems='end' justifyContent='flex-end'>\r\n                    <Button color='inherit' onClick={onCancel}>Cancel</Button>\r\n                    <Button type='submit' variant='contained' color='inherit'>Submit</Button>\r\n                </Stack>\r\n            </Stack>\r\n        </Box>\r\n\r\n        <Snackbar \r\n            severity='error' \r\n            message={submitError?.message || formError} \r\n        />\r\n\r\n        </>\r\n    );\r\n}","import Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport SubmissionCard from './SubmissionCard';\r\nimport SubmissionField from './SubmissionField';\r\nimport { Snackbar } from '../../../components';\r\n\r\nimport { useQuery } from '@apollo/client';\r\nimport { GET_SUBMISSION_BY_ID } from '../../../graphql/reports';\r\nimport { parseType } from '..';\r\n\r\nexport default function ReportDialog({ reportId, open, onClose }: { reportId: number, open: boolean, onClose: () => void }) {\r\n    const { data: report, error: getError, refetch } = useQuery(GET_SUBMISSION_BY_ID, {\r\n        fetchPolicy: 'no-cache',\r\n        variables: {\r\n            id: reportId\r\n        }\r\n    });\r\n    \r\n    return (\r\n        <>\r\n        <Dialog open={open} onClose={onClose} maxWidth='sm' fullWidth>\r\n            <DialogTitle component='div'>\r\n                <Typography variant='h4'>\r\n                    {report?.getSubmittedReportById.report.name}\r\n                </Typography>\r\n                <Typography variant='body1'>\r\n                    {parseType(report?.getSubmittedReportById.report.type)}\r\n                </Typography>\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <TableContainer>\r\n                    <Table size=\"small\" aria-label=\"dense table\" sx={{ mb: 2 }}>\r\n                        <TableBody>\r\n                            <TableRow>\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    <Typography variant=\"subtitle2\" noWrap>\r\n                                        Report Basis\r\n                                    </Typography>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <Typography variant=\"body2\">\r\n                                        {report?.getSubmittedReportById.report.basis}\r\n                                    </Typography>\r\n                                </TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    <Typography variant=\"subtitle2\" noWrap>\r\n                                        Report Office\r\n                                    </Typography>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <Typography variant=\"body2\">\r\n                                        {report?.getSubmittedReportById.office.name}\r\n                                    </Typography>\r\n                                </TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    <Typography variant=\"subtitle2\" noWrap>\r\n                                        Regional Deadline\r\n                                    </Typography>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <Typography variant=\"body2\">\r\n                                        {report && new Date(report.getSubmittedReportById.localDue).toLocaleDateString(undefined, {\r\n                                            year: 'numeric',\r\n                                            month: 'short',\r\n                                            day: 'numeric',\r\n                                            weekday: 'short'\r\n                                        })}\r\n                                    </Typography>\r\n                                </TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    <Typography variant=\"subtitle2\" noWrap>\r\n                                        National Deadline\r\n                                    </Typography>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <Typography variant=\"body2\">\r\n                                        {report && new Date(report.getSubmittedReportById.nationalDue).toLocaleDateString(undefined, {\r\n                                            year: 'numeric',\r\n                                            month: 'short',\r\n                                            day: 'numeric',\r\n                                            weekday: 'short'\r\n                                        })}\r\n                                    </Typography>\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n\r\n                {report && !report.getSubmittedReportById.message && (\r\n                    <SubmissionField \r\n                        reportId={parseInt(report.getSubmittedReportById.id)} \r\n                        onReport={() => refetch()} \r\n                        onCancel={() => onClose()}\r\n                    />\r\n                )}\r\n\r\n                {report && report.getSubmittedReportById.message && (\r\n                    <SubmissionCard \r\n                        message={report.getSubmittedReportById.message}\r\n                        files={report.getSubmittedReportById.files}\r\n                        onClose={() => onClose()}\r\n                    />\r\n                )}\r\n            </DialogContent>\r\n        </Dialog>\r\n\r\n        <Snackbar \r\n            severity='error' \r\n            message={getError?.message} \r\n        />\r\n        </>\r\n    );\r\n}","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getCardActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiCardActions', slot);\n}\nconst cardActionsClasses = generateUtilityClasses('MuiCardActions', ['root', 'spacing']);\nexport default cardActionsClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"disableSpacing\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base/composeClasses';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getCardActionsUtilityClass } from './cardActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getCardActionsUtilityClass, classes);\n};\nconst CardActionsRoot = styled('div', {\n  name: 'MuiCardActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8\n}, !ownerState.disableSpacing && {\n  '& > :not(style) ~ :not(style)': {\n    marginLeft: 8\n  }\n}));\nconst CardActions = /*#__PURE__*/React.forwardRef(function CardActions(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardActions'\n  });\n  const {\n      disableSpacing = false,\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardActions;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"id\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base/composeClasses';\nimport Typography from '../Typography';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getDialogTitleUtilityClass } from './dialogTitleClasses';\nimport DialogContext from '../Dialog/DialogContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getDialogTitleUtilityClass, classes);\n};\nconst DialogTitleRoot = styled(Typography, {\n  name: 'MuiDialogTitle',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  padding: '16px 24px',\n  flex: '0 0 auto'\n});\nconst DialogTitle = /*#__PURE__*/React.forwardRef(function DialogTitle(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogTitle'\n  });\n  const {\n      className,\n      id: idProp\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  const {\n    titleId = idProp\n  } = React.useContext(DialogContext);\n  return /*#__PURE__*/_jsx(DialogTitleRoot, _extends({\n    component: \"h2\",\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref,\n    variant: \"h6\",\n    id: idProp != null ? idProp : titleId\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogTitle.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * @ignore\n   */\n  id: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogTitle;"],"names":["extractFileName","url","paths","split","length","SubmissionCard","_ref","message","files","onClose","_jsxs","Stack","spacing","children","Card","_jsx","CardContent","Typography","variant","CardActions","sx","display","justifyContent","Box","maxWidth","overflow","flexDirection","map","file","component","href","trim","target","mx","direction","alignItems","Button","color","onClick","SubmissionField","reportId","onReport","onCancel","setMessage","useState","setFiles","formError","setFormError","submitReport","error","submitError","useMutation","SUBMIT_REPORT","_Fragment","onSubmit","async","event","preventDefault","uploadedFiles","form","FormData","forEach","append","axios","post","process","data","err","variables","id","fileUrl","Chip","label","name","onDelete","handleDelete","fileName","previous","filter","TextField","placeholder","value","onChange","e","multiline","rows","required","fullWidth","InputProps","endAdornment","InputAdornment","position","Tooltip","title","IconButton","Iconify","icon","type","multiple","hidden","style","fileList","concat","filesArray","i","item","push","convertFileListToArray","Snackbar","severity","ReportDialog","open","report","getError","refetch","useQuery","GET_SUBMISSION_BY_ID","fetchPolicy","Dialog","DialogTitle","getSubmittedReportById","parseType","DialogContent","TableContainer","Table","size","mb","TableBody","TableRow","TableCell","scope","noWrap","basis","office","Date","localDue","toLocaleDateString","undefined","year","month","day","weekday","nationalDue","parseInt","getCardActionsUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardActionsRoot","styled","overridesResolver","props","styles","ownerState","root","disableSpacing","_extends","padding","marginLeft","React","inProps","ref","useThemeProps","className","other","_objectWithoutPropertiesLoose","classes","slots","composeClasses","useUtilityClasses","clsx","DialogTitleRoot","flex","idProp","getDialogTitleUtilityClass","titleId","DialogContext"],"sourceRoot":""}