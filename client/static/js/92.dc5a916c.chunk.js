"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[92],{5436:(e,n,t)=>{t.d(n,{An:()=>f,CI:()=>$,Cy:()=>x,ED:()=>u,SM:()=>m,SY:()=>l,W6:()=>d,WK:()=>y,Yx:()=>D,aK:()=>b,c3:()=>S,ef:()=>j,f_:()=>i,gp:()=>I,gz:()=>o,kl:()=>g,oV:()=>r,oz:()=>c,sT:()=>h,wb:()=>v,wt:()=>N,yA:()=>p,yu:()=>s});var a=t(4768);const r=(0,a.I)("\n    query GetDocumentTypes {\n        getDocumentTypes {\n            id\n            label\n        }\n    }\n"),i=(0,a.I)("\n    mutation CreateDocumentType($label: String!) {\n        createDocumentType(label: $label) {\n            id\n            label\n        }\n    }\n"),o=(0,a.I)("\n    mutation UpdateDocumentType($id: Int!, $label: String!) {\n        updateDocumentType(id: $id, label: $label) {\n            id\n            label\n        }\n    }\n"),u=(0,a.I)("\n    mutation DeleteDocumentType($id: Int!) {\n        deleteDocumentType(id: $id) {\n            id  \n            label\n        }\n    }\n"),s=(0,a.I)("\n    query GetDocumentPurposes {\n        getDocumentPurposes {\n            id\n            label\n        }\n    }\n"),d=(0,a.I)("\n    mutation CreateDocumentPurpose($label: String!) {\n        createDocumentPurpose(label: $label) {\n            id\n            label\n        }\n    }\n"),c=(0,a.I)("\n    mutation UpdateDocumentPurpose($id: Int!, $label: String!) {\n        updateDocumentPurpose(id: $id, label: $label) {\n            id\n            label\n        }\n    }\n"),m=(0,a.I)("\n    mutation DeleteDocumentPurpose($id: Int!) {\n        deleteDocumentPurpose(id: $id) {\n            id\n            label\n        }\n    }\n"),l=(0,a.I)("\n    query GetDocumentStatus {\n        getDocumentStatus {\n            id\n            label\n            category\n        }\n    }\n"),$=(0,a.I)("\n    mutation CreateDocumentStatus($label: String!, $category: Status!) {\n        createDocumentStatus(label: $label, category: $category) {\n            id\n            label\n            category\n        }\n    }\n"),p=(0,a.I)("\n    mutation UpdateDocumentStatus($id: Int!, $label: String!, $category: Status!) {\n        updateDocumentStatus(id: $id, label: $label, category: $category) {\n            id\n            label\n            category\n        }\n    }\n"),f=(0,a.I)("\n    mutation DeleteDocumentStatus($id: Int!) {\n        deleteDocumentStatus(id: $id) {\n            id\n            label\n            category\n        }\n    }\n"),g=(0,a.I)("\n    query TempReferenceNum {\n        getTempReferenceNum\n    }\n"),I=(0,a.I)("\n    query GetDocumentSummary {\n        getDocumentSummary {\n            closed\n            noaction\n            office\n            ongoing\n            referred\n        }\n    }\n"),b=(0,a.I)("\n    query GetDocuments($officeId: Int) {\n        getDocuments(officeId: $officeId) {\n            referenceNum\n            subject\n            receivedFrom\n            refferedTo {\n                name\n            }\n            tag\n            status {\n                label\n                category\n            }\n            dateCreated\n        }\n    }\n"),y=(0,a.I)("\n    query GetDocumentById($referenceNum: String!) {\n        getDocumentById(referenceNum: $referenceNum) {\n            referenceNum\n            subject\n            description\n            receivedFrom\n            refferedTo {\n                id\n                name\n            }\n            type {\n                id\n                label\n            }\n            purpose {\n                id\n                label\n            }\n            tag\n            status {\n                id\n                label\n                category\n            }\n            dateCreated\n            dateDue\n            comments {\n                id\n                sender {\n                    uuid\n                    avatar\n                    firstName\n                    lastName\n                    position {\n                        label\n                    }\n                }   \n                files\n                message\n                dateCreated\n            }\n        }\n    }\n"),D=(0,a.I)("\n    mutation CreateDocument($subject: String!, $description: String!, $receivedFrom: String!, $typeId: Int!, $purposeId: Int!, $statusId: Int!, $dateDue: String!, $refferedTo: [Int!]!, $tag: Tags) {\n        createDocument(subject: $subject, description: $description, receivedFrom: $receivedFrom, typeId: $typeId, purposeId: $purposeId, statusId: $statusId, dateDue: $dateDue, refferedTo: $refferedTo, tag: $tag) {\n            referenceNum\n        }\n    }\n"),S=(0,a.I)("\n    mutation UpdateDocument($referenceNum: String!, $subject: String, $description: String, $receivedFrom: String, $typeId: Int, $purposeId: Int, $statusId: Int, $tag: Tags, $dateDue: String, $refferedTo: [Int]) {\n        updateDocument(referenceNum: $referenceNum, subject: $subject, description: $description, receivedFrom: $receivedFrom, typeId: $typeId, purposeId: $purposeId, statusId: $statusId, tag: $tag, dateDue: $dateDue, refferedTo: $refferedTo) {\n            referenceNum\n        }\n    }\n"),h=(0,a.I)("\n    mutation DeleteDocument($referenceNum: String!) {\n        deleteDocument(referenceNum: $referenceNum) {\n            subject\n        }\n    }\n"),v=(0,a.I)("\n    mutation DocumentUpdateStatus($referenceNum: String!, $statusId: Int!) {\n        documentUpdateStatus(referenceNum: $referenceNum, statusId: $statusId) {\n            id\n            label\n        }\n    }\n"),j=(0,a.I)("\n    mutation CreateComment($documentId: String!, $senderId: String!, $message: String!, $files: [String!]) {\n        createComment(documentId: $documentId, senderId: $senderId, message: $message, files: $files) {\n            id\n        }\n    }\n"),x=(0,a.I)("\n    subscription DocumentEvents($referenceNum: String!) {\n        documentEvents(referenceNum: $referenceNum) {\n            eventDate\n            eventName\n        }\n    }\n"),N=(0,a.I)("\n    query GetDocumentStatistics($officeId: Int) {\n        getDocumentStatistics(officeId: $officeId) {\n            closed\n            noaction\n            ongoing\n            referred\n        }\n    }\n")},7976:(e,n,t)=>{t.d(n,{AX:()=>s,Ax:()=>i,G2:()=>r,UB:()=>d,Wq:()=>c,aA:()=>l,eA:()=>u,uO:()=>o,uQ:()=>m});var a=t(4768);(0,a.I)("\n    query GetReports {\n        getReports {\n            id\n            name\n            basis\n            frequency\n            localDue\n            nationalDue\n        }\n    }\n");const r=(0,a.I)("\n    query GetReportById($id: Int!) {\n        getReportById(id: $id) {\n            id\n            name\n            basis\n            frequency\n            localDue\n            nationalDue  \n        }\n    }\n"),i=(0,a.I)("\n    query GetReportSummary {\n        getReportSummary {\n            office\n            pending\n            submitted\n            total\n        }\n    }\n"),o=(0,a.I)("\n    query GetReportStatistics($officeId: Int) {\n        getReportStatistics(officeId: $officeId) {\n            overdue\n            pending\n            submitted\n            total\n        }\n    }\n"),u=(0,a.I)("\n    mutation CreateReport($name: String!, $basis: String!, $localDue: String!, $nationalDue: String!, $frequency: Frequency!) {\n        createReport(name: $name, basis: $basis, localDue: $localDue, nationalDue: $nationalDue, frequency: $frequency) {\n            id\n        }\n    }\n"),s=(0,a.I)("\n    mutation UpdateReport($id: Int!, $name: String!, $basis: String!, $localDue: String!, $nationalDue: String!, $frequency: Frequency!) {\n        updateReport(id: $id, name: $name, basis: $basis, localDue: $localDue, nationalDue: $nationalDue, frequency: $frequency) {\n            id\n        }\n    }\n"),d=(0,a.I)("\n    mutation DeleteReport($id: Int!) {\n        deleteReport(id: $id) {\n            id\n        }\n    }\n"),c=(0,a.I)("\n    query GetSubmittedReports($officeId: Int) {\n        getSubmittedReports(officeId: $officeId) {\n            id\n            office {\n                id\n                name\n            }\n            report {\n                id\n                name\n                basis\n            }\n            status\n            localDue\n            nationalDue\n        }\n    }\n"),m=(0,a.I)("\n    query GetSubmittedReportById($id: Int!) {\n        getSubmittedReportById(id: $id) {\n            id\n            office {\n                id\n                name\n            }\n            report {\n                id\n                name\n                basis\n            }\n            status\n            localDue\n            nationalDue\n            message\n            files\n        }\n    }\n"),l=(0,a.I)("\n    mutation SubmitReport($id: Int!, $message: String, $files: [String!]) {\n        submitReport(id: $id, message: $message, files: $files) {\n            id\n        }\n    }\n")},9712:(e,n,t)=>{t.r(n),t.d(n,{default:()=>h});var a=t(9060),r=t(1712),i=t(8960),o=t(5448),u=t(6880),s=t(9e3),d=t(2044),c=t(7256),m=t(3692),l=t(1096),$=t(4194),p=t(2496);const f=(0,a.lazy)((()=>t.e(740).then(t.bind(t,8740))));function g(e){let{title:n,subheader:t,series:a,labels:r}=e;const i=(0,$.ms)({chart:{stacked:!0},xaxis:{type:"category",categories:r},plotOptions:{bar:{horizontal:!1}}});return(0,p.jsxs)(m.c,{children:[(0,p.jsx)(l.c,{title:n,subheader:t}),(0,p.jsx)(c.c,{sx:{p:3,pb:1},children:(0,p.jsx)(f,{dir:"ltr",type:"bar",series:a,options:i,width:"100%",height:364})})]})}var I=t(4480),b=t(8504),y=t(8964),D=t(7976),S=t(5436);function h(){const{data:e,error:n,refetch:t}=(0,I.U)(S.gp),{data:c,error:m,refetch:l}=(0,I.U)(D.Ax),{data:$,error:f}=(0,b.Q)(y.G2),[h,v]=(0,a.useState)([]),[j,x]=(0,a.useState)([]),[N,R]=(0,a.useState)([]);return(0,a.useEffect)((()=>{e&&v(function(e){return e.map((e=>e.split(" ").filter((e=>!["of","the"].includes(e.toLowerCase()))).map((e=>isNaN(parseInt(e))?e.charAt(0).toUpperCase():"-".concat(parseInt(e).toString()))).join("")))}(e.getDocumentSummary.map((e=>e.office))))}),[e]),(0,a.useEffect)((()=>{e&&x([{name:"Ongoing",data:e.getDocumentSummary.map((e=>e.ongoing))},{name:"Closed",data:e.getDocumentSummary.map((e=>e.closed))},{name:"No Action",data:e.getDocumentSummary.map((e=>e.noaction))}])}),[e]),(0,a.useEffect)((()=>{c&&R([{name:"Ongoing",data:c.getReportSummary.map((e=>e.pending))},{name:"Submitted",data:c.getReportSummary.map((e=>e.submitted))}])}),[c]),(0,a.useEffect)((()=>{$&&(t(),l())}),[$,t,l]),(0,p.jsxs)(r.c,{children:[(0,p.jsxs)(o.cp,{container:!0,spacing:3,children:[(0,p.jsx)(o.cp,{item:!0,xs:12,children:(0,p.jsxs)(i.c,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[(0,p.jsx)(u.c,{variant:"h4",children:"Good Day \ud83d\udc4b"}),(0,p.jsx)(s.c,{variant:"contained",color:"inherit",startIcon:(0,p.jsx)(d.ov,{icon:"ant-design:export-outlined"}),children:"Export"})]})}),(0,p.jsx)(o.cp,{item:!0,xs:12,children:(0,p.jsx)(g,{title:"Documents",subheader:"Summary from January 01, 2024 to March 31, 2024",labels:h,series:j})}),(0,p.jsx)(o.cp,{item:!0,xs:12,children:(0,p.jsx)(g,{title:"Reports",subheader:"Summary from January 01, 2024 to March 31, 2024",labels:h,series:N})})]}),(0,p.jsx)(d.wR,{severity:"error",message:(null===n||void 0===n?void 0:n.message)||(null===f||void 0===f?void 0:f.message)||(null===m||void 0===m?void 0:m.message)})]})}}}]);
//# sourceMappingURL=92.dc5a916c.chunk.js.map